<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Javascript HW</title>
</head>
<body>
<h1>Javascript Home Work 2</h1>
<script>

    // 1) Объявить (создать) переменную user, присвоить ей строковое значение "Иваныч", создать переменную age,
    // присвоить ей числовое значение 20. Создать функцию с именем printUser и принимающую 2 аргумента (параметра) из
    // внешнего мира - userName и userAge, которая будет возвращать строку "Пользователь _______, возраст _______",
    // вместо пропусков вы должны вставить соответствующие значения из аргументов функции.  Далее вызвать функцию,
    // передать ей в качестве значений параметров переменные name и age, затем вывести в консоль результат выполнения
    // функции printUser.
    console.log("Задание 1");

    var user = "Иваныч";
    var age = 20;

    function printUser(userName, userAge) {
        console.log("Пользователь " + userName + ", возраст" + userAge);
    }

    printUser(user, age);

    // 2) Объявить (создать) переменную user, присвоить ей строковое значение "Иваныч", создать переменную age,
    // присвоить ей числовое значение 20, создать переменную gender и присвоить ей значение "male".
    // Создать функцию с именем printUserInfo и принимающую 2 обязательных аргумента (параметра) из внешнего
    // мира - userName и userAge и один необязательный аргумент userGender - по умолчанию равен null.
    // Функция должна проверять передан ли ей 3й параметр, и далее возвращать результат - строку следующих видов:
    // а) если функция получила на вход все 3 аргумента: "Пользователь _______, возраст _______, пол__________",
    // вместо пропусков вы должны вставить соответствующие значения из аргументов функции, причем пол вы должны
    // вывести на русском языке, т.е. муж/жен, в то время как данные из вне функция принимает на английском male/female
    // б) если функция получила на вход 2 аргумента: "Пользователь _______, возраст _______", вместо пропусков
    // вы должны вставить соответствующие значения из аргументов функции.
    // Далее вызвать 2 раза функцию, первый раз передать ей на вход 3 аргумента, второй раз только 2 аргумента
    // (т.е. без userGender), затем вывести в консоль результат выполнения функции printUserInfo.
    console.log("Задание 2");

    user = "Иваныч";
    age = 20;
    var gender = "male";

    function printUserInfo(userName, userAge, userGender = null) {
        if (userGender === null) {
            console.log("Пользователь " + userName + ", возраст " + userAge);
        } else {
            console.log("Пользователь " + userName + ", возраст " + userAge + " пол " + userGender);
        }
    }

    printUserInfo(user, age, gender);
    printUserInfo(user, age);

    // 3) Создать функцию, которая на вход принимает 6 параметра: userFirstName, userLasName, userAge, userAddress,
    // userPhoneNumber, userPhoneCode. Далее вызвать функцию и передать ей на вход значения, соответствующие названиям
    // аргументов функции.
    // Функция должна создать и вернуть во внешний мир объект следующей формы (вида), т.е. имеющий следующие свойства (поля):
    // - firstName
    // - lastName
    // - age
    // - address
    // - phone (в свою очередь это вложенный объект, имеющий внутренние поля code и number)
    // - fullName - строка, которая должна включать в себя имя и фамилию пользователя и пробел между ними
    // а также объект должен содержать 3 внутренних метода:
    // - printUserName - выводит в консоль Фамилию и Имя юзера
    // - printUserAddress - выводит в консоль Адрес юзера
    // - printFullInfo - выводит в консоль всю информацию о пользователе, разделяя данные точкой с запятой
    // Соответственно функция должна создавать объект из тех данных, которые она получает на вход
    console.log("Задание 3");

    var firstName = "Max";
    var lastName = "Li";
    age = 35;
    var address = "Moscow";
    var phoneCode = "+7 (499)";
    var phoneNumber = "123-45-67";

    function FillTelBook(userFirstName, userLasName, userAge, userAddress, userPhoneCode, userPhoneNumber) {

            this.firstName = userFirstName;
            this.lastName = userLasName;
            this.age =userAge;
            this.address = userAddress;
            this.phone = {
                code: userPhoneCode,
                number: userPhoneNumber,
            };
            this.fullName = userFirstName + " " + userLasName;
            this.printUserName = function (firstName, lastName) {
                console.log("Фамилию:", this.lastName,";", "Имя: ", this.firstName);
            };
            this.printUserAddress = function (address) {
                console.log("Адрес -", this.address);
            };
            this.printFullInfo = function (firstName, lastName, age, address, phone) {
                console.log("Все данные ->", this.fullName,";", this.age,";", this.address,";", this.phone.code, this.phone.number);
            };
    }

    var telBook = new FillTelBook(firstName, lastName, age, address,phoneCode, phoneNumber);

    console.log("Вывод содержимого telBook", telBook);

    telBook.printUserName();
    telBook.printUserAddress();
    telBook.printFullInfo();


    // 4) Создать функцию, которая на вход принимает 3 параметра:  userFirstName, userLasName, userAge.
    // Из этих параметров функция формирует объект с данные по аналогии с задачей в пункте 3
    // (методы не нужно реализовывать). Далее создать 3 переменные fName, lName, age в которые вы должны поместить
    // данные, которые введет пользователь в браузере. Для считывания данных пользователя использовать функцию prompt().
    // Далее вызвать функцию, которая должна вернуть сформированный объект и затем вывести полученный объект в консоль.
    console.log("Задание 4");

    function MyFun1(userFirstName, userLasName, userAge) {
            this.firstName = userFirstName;
            this.lastName = userLasName;
            this.age = userAge;
    }

    var proverka = prompt("Проверяем руками Задание 4?");

    if ((proverka === "нет") || (proverka === "no")) { //что бы не вводить каждый раз данные при проверке следуюх заданий
    var fName = "Владимир";
    var lName = "Сулым";
    age = 35;
    } else {
        fName = prompt("введите Имя");
        lName = prompt("введите Фамилию");
        age = prompt("введите Возраст");
    }

    var myObj = new MyFun1(fName, lName, age);

    console.log("Вывод полученного объекта в консоль ->", myObj);

    // 5) Создать функцию, которая первым параметром, на вход принимает объект вида (см задачу из п.3),
    // а вторым параметром принимает объект вида телефон, который состоит из 2х полей (код и номер).
    // Функция должна создать копию объекта user и заменить у него телефон, на те данные, которые пришли во
    // втором аргументе функции. Функция должна вернуть во внешний мир новый объект, который не пересекается
    // с объектами полученными на вход, т.е. в новом объекте должны быть его персональные данные, а не ссылки
    // на старые объекты.
    // Вывести в консоль старый объект user, новый объект user (который вернула функция)
    console.log("Задание 5");

    var userOld = {
        firstName: firstName,
        lastName: lastName,
        age: age,
        address: address,
        phone: {
            code: phoneCode,
            number: phoneNumber,
        },
    };

    var changePhone = {
        code: "+7 (999)",
        number: "888-00-123",
    }

    function ChangeTelBook(userData, userPhone) {
        this.firstName = userData.firstName;
        this.lastName = userData.lastName;
        this.age = userData.age;
        this.address = userData.address;
        this.phone = {
            code: userPhone.code,
            phone: userPhone.number,
        }
    }

    var userNew = new ChangeTelBook(userOld, changePhone);
    console.log("Старые данные user ->", userOld)
    console.log("Новые данные user ->", userNew);

    // 6) Создать функцию, которая на вход принимает первых параметра в виде объектов описанных в задаче п.3.
    // Первые 2 параметра обязательны, третий параметр не обязателен. Далее внутри функции сделать проверку на
    // 3й параметр, если он есть, тогда нужно для первых двух объектов добавить 1 поле - children. В это поле
    // присвоить в качестве значения ссылку (аля указатель на г.Москва) на третий объект. Функция возвращает
    // результат операции true/false, причем true - означает что ребенок добавлен.
    // Вызвать функцию 2 раза, первый раз с 2мя параметрами, второй раз с 3. В консоль вывести результат реботы
    // функция в виде строки "Ребенок добавлен/не добавлен" и оба объекта (user1, user2).
    // Суть функции: принимает на вход двух юзеров (мама, папа) и третьего юзера (ребенок).
    // Если третию юзер описан, тогда, как бы в документ к маме/папе добавляется запись о наличии ребенка.
    console.log("Задание 6");

    var children = {
        firstName: "Виталий",
        lastName: "",
        age: 3,
    };

    function myFun2(papa, mama, children=null) {
        if (children === null) {
            console.log("Ребенок не добавлен ->", papa, mama);
            return false;
        } else {
            children.lastName = papa.lastName; //даем фамилию отца ребенку
            papa.children = children;
            mama.children = children;
            console.log("Ребенок добавлен ->", papa, mama);
            return true;
        }
    }

    myFun2(userNew, userOld);
    myFun2(userNew, userOld, children);

</script>
</body>
</html>